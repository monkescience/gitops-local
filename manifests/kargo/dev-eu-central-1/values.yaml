global:
  securityContext:
    runAsNonRoot: false
    runAsUser: 0
    seccompProfile:
      type: RuntimeDefault

# Shard controller configuration - connects to management cluster for Kargo data
controller:
  shardName: dev-eu-central-1
  env:
    - name: GIT_CONFIG_COUNT
      value: "1"
    - name: GIT_CONFIG_KEY_0
      value: safe.directory
    - name: GIT_CONFIG_VALUE_0
      value: "*"
  volumes:
    - name: gitops
      hostPath:
        path: /gitops
        type: Directory
  volumeMounts:
    - name: gitops
      mountPath: /gitops
  resources:
    requests:
      cpu: 50m
      memory: 128Mi
    limits:
      memory: 128Mi

# Kubeconfig secret to access management cluster for Kargo CRDs
kubeconfigSecrets:
  kargo: kargo-management-kubeconfig

# Disable API - only management has the API
api:
  enabled: false

# Disable other management-only components
garbageCollector:
  enabled: false

managementController:
  enabled: false

webhooksServer:
  enabled: false

externalWebhooksServer:
  enabled: false
