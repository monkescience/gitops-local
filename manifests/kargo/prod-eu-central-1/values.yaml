global:
  securityContext:
    runAsNonRoot: false
    runAsUser: 0
    seccompProfile:
      type: RuntimeDefault

# Shard controller configuration - connects to management cluster for Kargo data
controller:
  shardName: prod-eu-central-1
  argocd:
    integrationEnabled: true
  rollouts:
    integrationEnabled: false
  env:
    - name: GIT_CONFIG_GLOBAL
      value: /etc/gitconfig
  volumes:
    - name: gitops
      hostPath:
        path: /gitops
        type: Directory
    - name: gitconfig
      configMap:
        name: kargo-gitconfig
  volumeMounts:
    - name: gitops
      mountPath: /gitops
    - name: gitconfig
      mountPath: /etc/gitconfig
      subPath: gitconfig
  resources:
    requests:
      cpu: 50m
      memory: 128Mi
    limits:
      memory: 128Mi

# Kubeconfig secret to access management cluster for Kargo CRDs
kubeconfigSecrets:
  kargo: kargo-management-kubeconfig

# Disable API - only management has the API
api:
  enabled: false

# Disable other management-only components
garbageCollector:
  enabled: false

managementController:
  enabled: false

webhooksServer:
  enabled: false

externalWebhooksServer:
  enabled: false
