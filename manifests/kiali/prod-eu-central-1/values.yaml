auth:
  strategy: anonymous

deployment:
  replicas: 1
  resources:
    requests:
      cpu: 10m
      memory: 64Mi
    limits:
      memory: 64Mi

server:
  web_fqdn: kiali.prod.eu-central-1.localhost

external_services:
  prometheus:
    url: https://host.docker.internal:8443/mimir/prometheus
    # Mimir doesn't implement /api/v1/status/config, use query endpoint for health check
    health_check_url: https://host.docker.internal:8443/mimir/prometheus/api/v1/query?query=up
    # Enable thanos_proxy for Mimir compatibility (provides missing config values)
    thanos_proxy:
      enabled: true
    query_scope:
      cluster: prod-eu-central-1
    custom_headers:
      X-Scope-OrgID: prod-eu-central-1
    auth:
      insecure_skip_verify: true
  grafana:
    enabled: true
    internal_url: https://host.docker.internal:8443/grafana
    external_url: https://grafana.management.eu-central-1.localhost:8443
    auth:
      insecure_skip_verify: true
  tracing:
    enabled: true
    provider: tempo
    internal_url: https://host.docker.internal:8443/tempo-query
    external_url: https://grafana.management.eu-central-1.localhost:8443
    auth:
      insecure_skip_verify: true
    use_grpc: false
  istio:
    root_namespace: istio-system
